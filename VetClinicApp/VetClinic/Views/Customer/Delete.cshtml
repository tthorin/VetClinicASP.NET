@model VetClinic.Models.CustomerViewModel

@{
	ViewData["Title"] = "Delete";
}
@if (!string.IsNullOrEmpty(ViewData["Success"] as string))
{
	<div class="alert alert-dismissible alert-danger">
		<button type="button" class="btn-close" data-bs-dismiss="alert"></button>
		<strong>Customer deleted.</strong>
	</div>
	<a class="btn btn-outline-primary" asp-action="Index">Back to Customer List</a>
}
else
{
	<h1>Delete</h1>

	<h3>Are you sure you want to delete this customer?</h3>
	<div>
		<hr />
		<dl class="row">
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.FirstName)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.FirstName)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.LastName)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.LastName)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.PhoneNumber)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.PhoneNumber)
			</dd>
			<dt class="col-sm-2">
				@Html.DisplayNameFor(model => model.Email)
			</dt>
			<dd class="col-sm-10">
				@Html.DisplayFor(model => model.Email)
			</dd>
		</dl>
		<button type="button" class="btn btn-outline-danger" data-bs-toggle="modal" data-bs-target="#exampleModal">
			Delete
		</button>
		<a class="btn btn-outline-primary" asp-action="Details" asp-route-id="@Model?.Id">Back</a>
	</div>
	<!-- Modal -->
	<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<h5 class="modal-title" id="exampleModalLabel">Confirm delete</h5>
					<button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
				</div>
				<div class="modal-body">
					<p>Really delete @Model.FirstName @Model.LastName ?</p>
					<p><u> Any and all animals registered to the customer will also be deleted (@Model.Pets.Count animal(s) will be affected).</u></p>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
					<form asp-action="Delete">
						<input type="submit" value="Delete" class="btn btn-danger" />
					</form>
				</div>
			</div>
		</div>
	</div>


}
